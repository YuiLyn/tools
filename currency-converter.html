async function convertCurrency() {
    const amount = parseFloat(document.getElementById('amount').value);
    const fromCurrency = document.getElementById('fromCurrency').value;
    const toCurrency = document.getElementById('toCurrency').value;
    const resultDiv = document.getElementById('result');

    if (isNaN(amount) || amount <= 0) {
        resultDiv.innerHTML = "請輸入有效的正數金額！";
        return;
    }

    try {
        // 嘗試只使用基礎 URL，獲取所有匯率，然後計算
        const response = await fetch(`https://api.exchangeratesapi.io/v1/latest?access_key=6091e337d46bb4807572ad5980d5fb74`);
        const data = await response.json();

        if (!data.success) {
            resultDiv.innerHTML = "無法獲取匯率數據，請稍後重試！";
            return;
        }

        // 從數據中提取匯率
        const rates = data.rates;
        const usdRate = rates[fromCurrency]; // 假設從貨幣相對於 USD 的匯率
        const targetRate = rates[toCurrency]; // 目標貨幣相對於 USD 的匯率

        // 計算轉換
        const convertedAmount = (amount * usdRate) / targetRate;
        resultDiv.innerHTML = `${amount} ${fromCurrency} = ${convertedAmount.toFixed(2)} ${toCurrency}`;
    } catch (error) {
        resultDiv.innerHTML = "發生錯誤，請檢查網路或稍後重試！";
        console.error('Error:', error);
    }
}
